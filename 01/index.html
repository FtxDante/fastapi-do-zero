
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Como instalar as dependência e ajustar nosso pyproject.toml">
      
      
      
        <link rel="canonical" href="https://fastapidozero.dunossauro.com/01/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../02/">
      
      
      <link rel="icon" href="../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.26">
    
    
      
        <title>Configurando o ambiente de desenvolvimento - FastAPI do Zero</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Configurando o ambiente de desenvolvimento - FastAPI do Zero" >
      
        <meta  property="og:description"  content="Como instalar as dependência e ajustar nosso pyproject.toml" >
      
        <meta  property="og:image"  content="https://fastapidozero.dunossauro.com/assets/images/social/01.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://fastapidozero.dunossauro.com/01/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Configurando o ambiente de desenvolvimento - FastAPI do Zero" >
      
        <meta  name="twitter:description"  content="Como instalar as dependência e ajustar nosso pyproject.toml" >
      
        <meta  name="twitter:image"  content="https://fastapidozero.dunossauro.com/assets/images/social/01.png" >
      
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href=".." title="FastAPI do Zero" class="md-header__button md-logo" aria-label="FastAPI do Zero" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FastAPI do Zero
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configurando o ambiente de desenvolvimento
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Modo claro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Modo claro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Modo noturno"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo noturno" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Compartilhar" aria-label="Compartilhar" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Limpar" aria-label="Limpar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando busca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dunossauro/fastapi-do-zero" title="Ir para repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dunossauro/fastapi-do-zero
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FastAPI do Zero" class="md-nav__button md-logo" aria-label="FastAPI do Zero" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    FastAPI do Zero
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dunossauro/fastapi-do-zero" title="Ir para repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dunossauro/fastapi-do-zero
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FastAPI do Zero!
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Configurando o ambiente de desenvolvimento
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introdução ao desenvolvimento WEB
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estruturando o Projeto e Criando Rotas CRUD
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configurando o banco de dados e gerenciando migrações com Alembic
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrando Banco de Dados a API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autenticação e Autorização com JWT
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Refatorando a Estrutura do Projeto
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tornando o sistema de autenticação robusto
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../09/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Criando Rotas CRUD para Gerenciamento de Tarefas em FastAPI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dockerizando a nossa aplicação e introduzindo o PostgreSQL
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatizando os testes com Integração Contínua
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fazendo deploy no Fly.io
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Despedida e próximos passos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projeto final
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Aulas
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            Aulas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aulas/sincronas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aulas síncronas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Projetos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            Projetos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../projetos/projetos_finais/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projetos finais
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../projetos/repositorios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Repositórios do curso
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quizes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            Quizes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 - Configurando o Ambiente de Desenvolvimento
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 - Introdução ao desenvolvimento WEB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 - Estruturando o Projeto e Criando Rotas CRUD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 - Configurando o Banco de Dados e Gerenciando Migrações com Alembic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 - Integrando Banco de Dados a API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 - Autenticação e Autorização com JWT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 - Refatorando a Estrutura do Projeto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 - Tornando o sistema de autenticação robusto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_09/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 - Criando Rotas CRUD para Gerenciamento de Tarefas em FastAPI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10 - Dockerizando a nossa aplicação e introduzindo o PostgreSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11 - Automatizando os testes com Integração Contínua (CI)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quizes/aula_12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 - Fazendo deploy no Fly.io
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div><h1>Configurando o Ambiente de Desenvolvimento</h1>
<hr>
<p>Objetivos dessa aula:</p>
<ul>
<li>Introdução ao ambiente de desenvolvimento (terminal, ferramentas, etc.)</li>
<li>Instalação do FastAPI e suas dependências</li>
<li>Configuração das ferramentas de desenvolvimento</li>
<li>Execução do primeiro "Hello, World!" com FastAPI com testes!</li>
</ul>
<p>??? tip "Caso prefira ver a aula em vídeo"
    Esse aula ainda não está disponível em formato de vídeo, somente em texto!
    <a class="glightbox" href="https://www.youtube.com/embed/u31qwQUeGuM" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/u31qwQUeGuM" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a></p>
<p><a href="#">Aula :fontawesome-brands-youtube:</a>{ .md-button }
<a href="https://github.com/dunossauro/fastapi-do-zero/blob/main/slides/pdf/aula_01.pdf">Slides :fontawesome-solid-file-powerpoint:</a>{ .md-button }
<a href="https://github.com/dunossauro/fastapi-do-zero/tree/main/codigo_das_aulas/01">Código :fontawesome-solid-code:</a>{ .md-button }
<a href="quizes/aula_01.md">Quiz :material-comment-question:</a>{ .md-button }</p>
<hr>
<p>Nesta aula, iniciaremos nossa jornada na construção de uma API com FastAPI. Partiremos do básico, configurando nosso ambiente de desenvolvimento. Discutiremos desde a escolha e instalação da versão correta do Python até a instalação e configuração do Poetry, um gerenciador de pacotes e dependências para Python. Além disso, instalaremos e configuraremos uma série de ferramentas de desenvolvimento úteis, como Ruff, pytest e Taskipy.</p>
<p>Após configurado o nosso ambiente, criaremos nosso primeiro programa "Hello, World!" com FastAPI. Isso nos permitirá confirmar que tudo está funcionando corretamente. E, finalmente, exploraremos uma parte crucial do Desenvolvimento Orientado por Testes (TDD), escrevendo nosso primeiro teste com Pytest.</p>
<h2>Ambiente de Desenvolvimento</h2>
<p>Para iniciar esse curso você precisa de algumas ferramentas instaladas:</p>
<ol>
<li>Um editor de texto a sua escolha (Usarei o <a href="https://www.gnu.org/software/emacs/">GNU/Emacs</a>{:target="_blank"})</li>
<li>Um terminal a sua escolha (Usarei o <a href="https://gnome-terminator.org/">Terminator</a>{:target="_blank"})</li>
<li>Uma versão 3.11+ do Python instalada.<ul>
<li>Caso não tenha essa versão você pode baixar do <a href="https://www.python.org/downloads/">site oficial</a>{:target="_blank"}</li>
<li>Ou instalar via <a href="https://github.com/pyenv/pyenv">pyenv</a>{:target="_blank"}</li>
<li>Embora a versão 3.7 seja suficiente para executar o FastAPI em si, neste curso usaremos recursos de Python que estão presentes apenas a partir da versão 3.11. Portanto, essa é a versão mínima obrigatória para o curso.</li>
</ul>
</li>
<li>O <a href="https://python-poetry.org/">Poetry</a>{:target="_blank"} para gerenciar os pacotes e seu ambiente virtual (caso não conheça o poetry temos uma <a href="https://youtu.be/ZOSWdktsKf0">live de python sobre ele</a>{:target="_blank"})</li>
<li><a href="https://git-scm.com/">Git</a>{:target="_blank"}: Para gerenciar versões</li>
<li><a href="https://www.docker.com/">Docker</a>{:target="_blank"}: Para criar um container da nossa aplicação (caso não tenha nenhuma experiência com docker a <a href="https://www.youtube.com/playlist?list=PLf-O3X2-mxDn1VpyU2q3fuI6YYeIWp5rR">Linuxtips</a>{:target="_blank"} tem uma playlist completa e grátis sobre docker no canal deles no YouTube)[^1]</li>
<li><strong>OPCIONAL</strong>: O <a href="https://github.com/pypa/pipx">pipx</a>{:target="_blank"} pode te
 ajudar bastante nesses momentos de instalações</li>
<li><strong>OPCIONAL</strong>: O <a href="https://github.com/Antrikshy/ignr.py">ignr</a>{:target="_blank"} para criar nosso gitignore</li>
<li><strong>OPCIONAL (extremamente recomendado)</strong>: O <a href="https://cli.github.com/">gh</a>{:target="_blank"} para criar o repositório e fazer alterações sem precisar acessar a página do Github</li>
</ol>
<p>[^1]: Você não precisa se preocupar com o docker inicialmente, ele será usado da aula 10 em diante</p>
<h2>Instalação do Python</h2>
<p>Se você precisar (re)construir o ambiente usado nesse curso, é <strong>extremamente recomendado</strong> que você use o <a href="https://github.com/pyenv/pyenv">pyenv</a>{:target="_blank"}.</p>
<p>Pyenv é uma aplicação externa ao python que você instale diferentes versões do python no sistema e as isola. Podendo isolar versões específicas, para projetos específicos. Na computação, chamamos esse conceito de <a href="https://en.wikipedia.org/wiki/Shim_(computing)">shim</a>{:target="_blank"}. Uma camada, onde toda vez que o python for chamado, ele redirecionará ao python na versão especificada no pyenv globalmente ou em uma versão fixada em projeto especifico. Uma espécie de "proxy".</p>
<div class="highlight"><pre><span></span><code>graph LR;
  A["Executando o python no terminal"] --&gt; pyenv
  pyenv["Pyenv shim"] --&gt; questao{"existe '.python-version'?"}
  questao --&gt;|sim| B["Execute esta versão instalada no pyenv"]
  questao --&gt;|não| C["Use a versão global do pyenv"]
</code></pre></div>
<p>A instalação do pyenv varia entre sistemas operacionais. Caso você esteja usando Windows, recomendo que você use o <a href="https://pyenv-win.github.io/pyenv-win/">pyenv-windows</a>{:target="_blank"} para fazer a instalação, os passos estão descritos na página. Para GNU/Linux e MacOS, use o <a href="https://github.com/pyenv/pyenv-installer">pyenv-installer</a>{:target="_blank"}, os passos para instalação também estão descritos.</p>
<p>Navegue até o diretório onde fará os códigos e exercícios do curso e digite os seguintes comandos do pyenv:</p>
<p>=== "Versão 3.11"</p>
<pre><code>```shell title="$ Execução no terminal!"
pyenv update
pyenv install 3.11:latest
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>??? bug "Para quem usa Windows"
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    O pyenv-win tem um [bug intermitente](https://github.com/pyenv-win/pyenv-win/issues/407){:target="_blank"} em relação ao uso de `:latest`:
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    ```powershell
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    PS C:\Users\vagrant&amp;gt; pyenv install 3.11:latest
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    :: [Info] ::  Mirror: https://www.python.org/ftp/python
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    pyenv-install: definition not found: 3.11:latest
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    See all available versions with `pyenv install --list`.
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    Does the list seem out of date? Update it using `pyenv update`.
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    ```
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    Caso você se depare com esse erro, pode rodar o comando `pyenv install --list` e ver a maior versão disponível do python no momento da sua instalação. Em seguida executar `pyenv install 3.11.&amp;lt;a maior versão disponível&amp;gt;`. Nesse momento em que escrevo é a versão 3.11.9 :
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    ```powershell
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    PS C:\Users\vagrant&amp;gt; pyenv install 3.11.9
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    :: [Info] ::  Mirror: https://www.python.org/ftp/python
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    :: [Downloading] ::  3.11.9 ...
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    :: [Downloading] ::  From https://www.python.org/ftp/python/3.11.9/3.11.9-amd64.exe
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    :: [Downloading] ::  To   C:\Users\vagrant\.pyenv\pyenv-win\install_cache\python-3.11.9-amd64.exe
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    :: [Installing] ::  3.11.9 ...
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    :: [Info] :: completed! 3.11.9
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    ```
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    Desta forma os próximos comandos podem ser executados normalmente.
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    Certifique que a versão do python 3.11 esteja instalada:
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>```shell title="$ Execução no terminal!" hl_lines="6"
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>pyenv versions
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>* system (set by /home/dunossauro/.pyenv/version)
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>3.10.12
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>3.11.1
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>3.12.0
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>3.11.9
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>3.12.0b1
</span></code></pre></div>

A resposta esperada é que o `Python 3.11.9` (a maior versão do python 3.11 enquanto escrevia esse material) esteja nessa lista.
</code></pre>
<p>=== "Versão 3.12"</p>
<pre><code>```shell title="$ Execução no terminal!"
pyenv update
pyenv install 3.12:latest
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>??? bug "Para quem usa Windows"
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    O pyenv-win tem um [bug intermitente](https://github.com/pyenv-win/pyenv-win/issues/407){:target="_blank"} em relação ao uso de `:latest`:
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    ```powershell
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    PS C:\Users\vagrant&amp;gt; pyenv install 3.12:latest
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    :: [Info] ::  Mirror: https://www.python.org/ftp/python
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    pyenv-install: definition not found: 3.12:latest
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    See all available versions with `pyenv install --list`.
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    Does the list seem out of date? Update it using `pyenv update`.
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    ```
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    Caso você se depare com esse erro, pode rodar o comando `pyenv install --list` e ver a maior versão disponível do python no momento da sua instalação. Em seguida executar `pyenv install 3.12.&amp;lt;a maior versão disponível&amp;gt;`. Nesse momento em que escrevo é a versão 3.12.3 :
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    ```powershell
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    PS C:\Users\vagrant&amp;gt; pyenv install 3.12.3
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    :: [Info] ::  Mirror: https://www.python.org/ftp/python
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    :: [Downloading] ::  3.12.3 ...
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    :: [Downloading] ::  From https://www.python.org/ftp/python/3.12.3/3.12.3-amd64.exe
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>    :: [Downloading] ::  To   C:\Users\vagrant\.pyenv\pyenv-win\install_cache\python-3.12.3-amd64.exe
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    :: [Installing] ::  3.12.3 ...
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    :: [Info] :: completed! 3.12.3
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    ```
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    Desta forma os próximos comandos podem ser executados normalmente.
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    Certifique que a versão do python 3.12 esteja instalada:
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>```shell title="$ Execução no terminal!" hl_lines="6"
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>pyenv versions
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>* system (set by /home/dunossauro/.pyenv/version)
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>3.10.12
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>3.11.1
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>3.12.0
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>3.12.3
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>3.12.0b1
</span></code></pre></div>

A resposta esperada é que o `Python 3.12.3` (a maior versão do python 3.12 enquanto escrevia esse material) esteja nessa lista.
</code></pre>
<blockquote>
<p>:warning: Toda a implementação do curso foi feita com o python 3.11 e testada para ser compatível com a versão 3.12. Nesse momento de configuração estão disponíveis as duas versões. Ao decorrer do curso, você pode se deparar com a versão 3.11 fixada no texto. Mas, sinta-se a vontade para alterar para versão 3.12. :warning:</p>
</blockquote>
<h2>Gerenciamento de Dependências com Poetry</h2>
<p>Após instalar o Python, o próximo passo é instalar o <a href="https://python-poetry.org/">Poetry</a>{:target="_blank"}, um gerenciador de pacotes e dependências para Python. O Poetry facilita a criação, o gerenciamento e a distribuição de pacotes Python.</p>
<p>??? info "Caso esse seja seu primeiro contato com o Poetry"
    Temos uma live de python explicando somente ele:</p>
<pre><code>![type:video](https://www.youtube.com/embed/ZOSWdktsKf0)

[:fontawesome-brands-youtube: Link direto](https://youtu.be/ZOSWdktsKf0){ .md-button }
</code></pre>
<p>Para instalar o Poetry, você pode seguir as instruções presentes na <a href="https://python-poetry.org/docs/#installation">documentação oficial</a>{:target="_blank"} do Poetry para o seu sistema operacional. Alternativamente, se você optou por usar o <a href="https://pipx.pypa.io/stable/">pipx</a>, pode instalar o Poetry com o seguinte comando:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>pipx<span class="w"> </span>install<span class="w"> </span>poetry
</code></pre></div>
<p>??? question "Caso queira usar o pipx e não o tenha instalado no seu ambiente"
    O <a href="https://pipx.pypa.io/stable/">pipx</a> é uma forma de instalar pacotes de forma global no seu sistema sem que eles interfiram no seu ambiente global do python. Ele cria um ambiente virtual isolado para cada ferramenta.</p>
<pre><code>O guia de instalação do pipx contempla diversos sistemas operacionais: [guia](https://pipx.pypa.io/stable/installation/#installing-pipx)
</code></pre>
<h2>Criação do Projeto FastAPI e Instalação das Dependências</h2>
<p>Agora que temos o Python e o Poetry prontos, podemos começar a criar nosso projeto FastAPI.</p>
<p>Inicialmente criaremos um novo projeto python usando o Poetry, com o comando <code>poetry new</code> e em seguida navegaremos até o diretório criado:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>poetry<span class="w"> </span>new<span class="w"> </span>fast_zero
<span class="nb">cd</span><span class="w"> </span>fast_zero
</code></pre></div>
<p>Ele criará uma estrutura de arquivos e pastas como essa:</p>
<div class="highlight"><pre><span></span><code>.
├── fast_zero
│  └── __init__.py
├── pyproject.toml
├── README.md
└── tests
   └── __init__.py
</code></pre></div>
<p>=== "Versão 3.11"</p>
<pre><code>Para que a versão do python que instalamos via pyenv seja usada em nosso projeto criado com poetry, devemos dizer ao pyenv qual versão do python será usada nesse diretório:

<div class="language-shell highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>pyenv<span class="w"> </span><span class="nb">local</span><span class="w"> </span><span class="m">3</span>.11.9<span class="w">  </span><span class="c1"># (1)!</span>
</span></code></pre></div>

1. Essa era a maior versão do 3.11 quando escrevi

Esse comando criará um arquivo oculto chamado `.python-version` na raiz do nosso projeto:

<div class="language-text highlight"><span class="filename">.python-version</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>3.11.9
</span></code></pre></div>

Esse arquivo fará com que toda vez que o terminal for aberto nesse diretório, o pyenv use a versão descrita no arquivo quando o python interpretador for chamado.

Em conjunto com essa instrução, devemos dizer ao poetry que usaremos exatamente a versão `3.11` em nosso projeto. Para isso alteraremos o arquivo de configuração do projeto o `pyproject.toml` na raiz do projeto:

<div class="language-toml highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="k">[tool.poetry.dependencies]</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="n">python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.11.*"</span><span class="w">  </span><span class="c1"># (1)!</span>
</span></code></pre></div></td></tr></table></div>

1. `.*` quer dizer qualquer versão da 3.11
</code></pre>
<p>=== "Versão 3.12"</p>
<pre><code>Para que a versão do python que instalamos via pyenv seja usada em nosso projeto criado com poetry, devemos dizer ao pyenv qual versão do python será usada nesse diretório:

<div class="language-shell highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pyenv<span class="w"> </span><span class="nb">local</span><span class="w"> </span><span class="m">3</span>.12.3<span class="w">  </span><span class="c1"># (1)!</span>
</span></code></pre></div>

1. Essa era a maior versão do 3.12 quando escrevi

Esse comando criará um arquivo oculto chamado `.python-version` na raiz do nosso projeto:

<div class="language-text highlight"><span class="filename">.python-version</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>3.12.3
</span></code></pre></div>

Esse arquivo fará com que toda vez que o terminal for aberto nesse diretório, o pyenv use a versão descrita no arquivo quando o python interpretador for chamado.

Em conjunto com essa instrução, devemos dizer ao poetry que usaremos exatamente a versão `3.12` em nosso projeto. Para isso alteraremos o arquivo de configuração do projeto o `pyproject.toml` na raiz do projeto:

<div class="language-toml highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="k">[tool.poetry.dependencies]</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="n">python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.12.*"</span><span class="w">  </span><span class="c1"># (1)!</span>
</span></code></pre></div></td></tr></table></div>

1. `.*` quer dizer qualquer versão da 3.12
</code></pre>
<p>Desta forma, temos uma versão do python selecionada para esse projeto e uma garantia que o poetry usará essa versão para a criação do nosso ambiente virtual.</p>
<p>Em seguida, inicializaremos nosso ambiente virtual com Poetry e instalaremos o FastAPI:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>poetry<span class="w"> </span>install<span class="w"> </span><span class="c1"># (1)!</span>
poetry<span class="w"> </span>add<span class="w"> </span>fastapi<span class="w"> </span><span class="c1"># (2)!</span>
</code></pre></div>
<ol>
<li>Cria o ambiente virtual (venv)</li>
<li>Adiciona o FastAPI no nosso ambiente virtual</li>
</ol>
<h2>Primeira Execução de um "Hello, World!"</h2>
<p>Uma coisa bastante interessante sobre o FastAPI é que ele é um framework web baseado em funções. Da mesma forma em que criamos funções tradicionalmente em python, podemos estender essas funções para que elas sejam servidas pelo servidor. Por exemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">fast_zero/app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">read_root</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">'message'</span><span class="p">:</span> <span class="s1">'Olá Mundo!'</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Essa função em python basicamente retorna um dicionário com uma chave chamada <code>#!python 'message'</code> e uma mensagem <code>#!python 'Olá Mundo!'</code>. Se adicionarmos essa função em novo arquivo chamado <code>app.py</code> no diretório <code>fast_zero</code>. Podemos fazer a chamada dela pelo terminal interativo (<strong>REPL</strong>):</p>
<div class="highlight"><span class="filename">&gt;&gt;&gt; Terminal interativo!</span><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">read_root</span><span class="p">()</span>
<span class="p">{</span><span class="s1">'message'</span><span class="p">:</span> <span class="s1">'Olá Mundo!'</span><span class="p">}</span>
</code></pre></div>
<p>De forma tradicional, como todas as funções em python.</p>
<p>??? tip "Dica: Como abrir o terminal interativo (REPL)"
    Para abrir o terminal interativo com o seu código carregado, você deve chamar o Python no terminal usando -i:</p>
<pre><code>```shell title="$ Execução no terminal!"
python -i &lt;seu_arquivo.py&gt;
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>O interpretador do Python executa o código do arquivo e retorna o shell após executar tudo que está escrito no arquivo.
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Para o nosso caso específico, como o nome do arquivo é `fast_zero/app.py`, devemos executar esse comando no terminal:
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>```shell title="$ Execução no terminal!"
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>python -i fast_zero/app.py
</span></code></pre></div>
</code></pre>
<p>Desta forma, usando somente um decorador do FastAPI, podemos fazer com que uma determinada função seja acessível pela rede:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">fast_zero/app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span> <span class="c1"># (1)!</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>  <span class="c1"># (2)!</span>

<span class="hll"><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>  <span class="c1"># (3)!</span>
</span><span class="k">def</span> <span class="nf">read_root</span><span class="p">():</span>  <span class="c1"># (4)!</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">'message'</span><span class="p">:</span> <span class="s1">'Olá Mundo!'</span><span class="p">}</span> <span class="c1"># (5)!</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Importando da biblioteca fastapi o objeto FastAPI</li>
<li>Iniciando uma aplicação FastAPI</li>
<li>Definindo um endpoint com o endereço <code>/</code> acessível pelo método HTTP <code>GET</code></li>
<li>Função que será executada quando o endereço <code>/</code> for acessado por um cliente</li>
<li>Os dados que serão retornados pelo endereço quando for chamado</li>
</ol>
<p>A linha em destaque <code>#!python @app.get('/')</code> expõem a nossa função para ser servida pelo FastAPI. Dizendo que quando um cliente acessar o nosso endereço de rede no caminho <code>/</code>, usando o método HTTP GET[^2], a função será executada. Desta maneira, temos todo o código necessário para criar nossa primeira aplicação web com FastAPI.</p>
<p>[^2]: Exploraremos mais a fundo a relação de métodos e o protocolo HTTP na próxima aula.</p>
<p>Antes de iniciarmos nossa aplicação, temos que fazer um passo importante, habilitar o ambiente virtual, para que o python consiga enxergar nossas dependências instaladas. O poetry tem um comando específico para isso:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>poetry<span class="w"> </span>shell
</code></pre></div>
<p>Agora com o ambiente virtual ativo, podemos iniciar nosso servidor FastAPI para iniciar nossa aplicação:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>fastapi<span class="w"> </span>dev<span class="w"> </span>fast_zero/app.py
</code></pre></div>
<p>Esse comando diz ao FastAPI para iniciar o servidor de desenvolvimento (<code>dev</code>) usando o arquivo <code>fast_zero/app.py</code></p>
<p>A resposta do comando no terminal deve ser parecida com essa:</p>
<div class="highlight"><span class="filename">Resposta do comando `fastapi dev fast_zero/app.py`</span><pre><span></span><code>INFO<span class="w">     </span>Using<span class="w"> </span>path<span class="w"> </span>fast_zero/app.py
INFO<span class="w">     </span>Resolved<span class="w"> </span>absolute<span class="w"> </span>path<span class="w"> </span>/home/dunossauro/git/fastapi-do-zero/codigo_das_aulas/01/fast_zero/app.py
INFO<span class="w">     </span>Searching<span class="w"> </span><span class="k">for</span><span class="w"> </span>package<span class="w"> </span>file<span class="w"> </span>structure<span class="w"> </span>from<span class="w"> </span>directories<span class="w"> </span>with<span class="w"> </span>__init__.py<span class="w"> </span>files
INFO<span class="w">     </span>Importing<span class="w"> </span>from<span class="w"> </span>/home/dunossauro/git/fastapi-do-zero/codigo_das_aulas/01

<span class="w"> </span>╭─<span class="w"> </span>Python<span class="w"> </span>package<span class="w"> </span>file<span class="w"> </span>structure<span class="w"> </span>─╮
<span class="w"> </span>│<span class="w">                                 </span>│
<span class="w"> </span>│<span class="w">  </span>📁<span class="w"> </span>fast_zero<span class="w">                   </span>│
<span class="w"> </span>│<span class="w">  </span>├──<span class="w"> </span>🐍<span class="w"> </span>__init__.py<span class="w">             </span>│
<span class="w"> </span>│<span class="w">  </span>└──<span class="w"> </span>🐍<span class="w"> </span>app.py<span class="w">                  </span>│
<span class="w"> </span>│<span class="w">                                 </span>│
<span class="w"> </span>╰─────────────────────────────────╯

INFO<span class="w">     </span>Importing<span class="w"> </span>module<span class="w"> </span>fast_zero.app
INFO<span class="w">     </span>Found<span class="w"> </span>importable<span class="w"> </span>FastAPI<span class="w"> </span>app

<span class="w"> </span>╭────<span class="w"> </span>Importable<span class="w"> </span>FastAPI<span class="w"> </span>app<span class="w"> </span>─────╮
<span class="w"> </span>│<span class="w">                                 </span>│
<span class="w"> </span>│<span class="w">  </span>from<span class="w"> </span>fast_zero.app<span class="w"> </span>import<span class="w"> </span>app<span class="w">  </span>│
<span class="w"> </span>│<span class="w">                                 </span>│
<span class="w"> </span>╰─────────────────────────────────╯

INFO<span class="w">     </span>Using<span class="w"> </span>import<span class="w"> </span>string<span class="w"> </span>fast_zero.app:app

<span class="w"> </span>╭──────────<span class="w"> </span>FastAPI<span class="w"> </span>CLI<span class="w"> </span>-<span class="w"> </span>Development<span class="w"> </span>mode<span class="w"> </span>───────────╮
<span class="w"> </span>│<span class="w">                                                     </span>│
<span class="hll"><span class="w"> </span>│<span class="w">  </span>Serving<span class="w"> </span>at:<span class="w"> </span>http://127.0.0.1:8000<span class="w">                  </span>│
</span><span class="w"> </span>│<span class="w">                                                     </span>│
<span class="w"> </span>│<span class="w">  </span>API<span class="w"> </span>docs:<span class="w"> </span>http://127.0.0.1:8000/docs<span class="w">               </span>│
<span class="w"> </span>│<span class="w">                                                     </span>│
<span class="w"> </span>│<span class="w">  </span>Running<span class="w"> </span><span class="k">in</span><span class="w"> </span>development<span class="w"> </span>mode,<span class="w"> </span><span class="k">for</span><span class="w"> </span>production<span class="w"> </span>use:<span class="w">   </span>│
<span class="w"> </span>│<span class="w">                                                     </span>│
<span class="w"> </span>│<span class="w">  </span>fastapi<span class="w"> </span>run<span class="w">                                        </span>│
<span class="w"> </span>│<span class="w">                                                     </span>│
<span class="w"> </span>╰─────────────────────────────────────────────────────╯

INFO:<span class="w">     </span>Will<span class="w"> </span>watch<span class="w"> </span><span class="k">for</span><span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>these<span class="w"> </span>directories:<span class="w"> </span><span class="o">[</span><span class="s1">'/home/dunossauro/git/fastapi-do-zero/codigo_das_aulas/01'</span><span class="o">]</span>
<span class="hll">INFO:<span class="w">     </span>Uvicorn<span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://127.0.0.1:8000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
</span><span class="hll">INFO:<span class="w">     </span>Started<span class="w"> </span>reloader<span class="w"> </span>process<span class="w"> </span><span class="o">[</span><span class="m">893203</span><span class="o">]</span><span class="w"> </span>using<span class="w"> </span>WatchFiles
</span><span class="hll">INFO:<span class="w">     </span>Started<span class="w"> </span>server<span class="w"> </span>process<span class="w"> </span><span class="o">[</span><span class="m">893207</span><span class="o">]</span>
</span><span class="hll">INFO:<span class="w">     </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>application<span class="w"> </span>startup.
</span><span class="hll">INFO:<span class="w">     </span>Application<span class="w"> </span>startup<span class="w"> </span>complete.
</span></code></pre></div>
<p>A mensagem de resposta do CLI: <code>serving: http://127.0.0.1:8000</code> tem uma informação bastante importante.</p>
<p><a class="glightbox" href="assets/01/endereco_http_black.png#only-light" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt='Figura representando a divisão para "protocolo" com "http://" , "endereço" com "127.0.0.1" e "porta" com ":8000"' src="assets/01/endereco_http_black.png#only-light"></a>{: .center }
<a class="glightbox" href="assets/01/endereco_http_white.png#only-dark" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt='Figura representando a divisão para "protocolo" com "http://" , "endereço" com "127.0.0.1" e "porta" com ":8000"' src="assets/01/endereco_http_white.png#only-dark"></a>{: .center  }</p>
<ol>
<li>Ela nos diz qual o protocolo que ele está servido <code>HTTP</code>, o protocolo padrão da web;</li>
<li>O endereço de rede (IP) no qual ele está escutando <code>127.0.0.1</code>, endereço especial (<a href="https://pt.wikipedia.org/wiki/Loopback#Protocolo_de_Interface_de_Rede_Virtual_da_Internet">loopback</a>{:target="_blank"}) que aponta para a nossa própria máquina;</li>
<li>A porta <code>:8000</code>, a qual é a porta da nossa máquina que está reservada para nossa aplicação.</li>
</ol>
<p>Agora, com o servidor inicializado, podemos usar um cliente para acessar o endereço <a href="http://127.0.0.1:8000">http://127.0.0.1:8000</a>{:target="_blank"}.</p>
<p>O cliente mais tradicional da web é o navegador, podemos digitar o endereço na barra de navegação e se tudo ocorreu corretamente, você deve ver a mensagem "Olá Mundo!" em formato JSON.</p>
<p><a class="glightbox" href="assets/01/nagevador_com_localhost.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt='Captura de tela do browser acessando "http://127.0.0.1"' src="assets/01/nagevador_com_localhost.png"></a>{: .center .shadow }</p>
<blockquote>
<p>Para parar a execução do fastapi no shell, você pode digitar ++ctrl+c++ e a mensagem <code>Shutting down</code> aparecerá mostrando que o servidor foi finalizado.</p>
</blockquote>
<p>??? example "Diferentes clientes para nossa aplicação"
    Caso exista uma curiosidade sobre outros clientes HTTP que não o browser, podemos usar aplicações de linha de comando como tradicional <a href="https://curl.se/">curl</a>{:target="_blank"}:</p>
<pre><code>```shell title="$ Execução no terminal!"
curl 127.0.0.1:8000
{"message":"Olá Mundo!"}
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Ou o meu cliente HTTP preferido (escrito em python), o [HTTPie](https://httpie.io/){:target="_blank"}:
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>```shell title="$ Execução no terminal!"
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>http 127.0.0.1:8000
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>HTTP/1.1 200 OK
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>content-length: 25
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>content-type: application/json
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>date: Thu, 11 Jan 2024 11:46:32 GMT
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>server: uvicorn
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>{
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>    "message": "Olá Mundo!"
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>}
</span></code></pre></div>

Existem até mesmo aplicações gráficas de código aberto pensadas para serem clientes HTTP para APIs. Como o [hoppscotch](https://hoppscotch.io/){:target="_blank"}:

![Captura de tela do hoppscotch](assets/01/cliente_grafico_para_apis_hoppscotch.png){: .center .shadow }

Ou como o [Bruno](https://www.usebruno.com/){:target="_blank"}:
![Captura de tela do bruno](assets/01/cliente_grafico_para_apis_bruno.png){: .center .shadow }
</code></pre>
<h3>Uvicorn</h3>
<p>O FastAPI é ótimo para criar APIs, mas não pode disponibilizá-las na rede sozinho. Embora o FastAPI tenha uma aplicação de terminal que facilita a execução. Para podermos acessar essas APIs por um navegador ou de outras aplicações clientes, é necessário um servidor. É aí que o Uvicorn entra em cena. Ele atua como esse servidor, disponibilizando a API do FastAPI em rede. Isso permite que a API seja acessada de outros dispositivos ou programas.</p>
<p>Como notamos na resposta do comando <code>fastapi dev fast_zero/app.py</code>:</p>
<div class="highlight"><span class="filename">Fim da resposta de `fastapi dev fast_zero/app.py`</span><pre><span></span><code>INFO:<span class="w">     </span>Uvicorn<span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://127.0.0.1:8000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
INFO:<span class="w">     </span>Started<span class="w"> </span>reloader<span class="w"> </span>process<span class="w"> </span><span class="o">[</span><span class="m">893203</span><span class="o">]</span><span class="w"> </span>using<span class="w"> </span>WatchFiles
INFO:<span class="w">     </span>Started<span class="w"> </span>server<span class="w"> </span>process<span class="w"> </span><span class="o">[</span><span class="m">893207</span><span class="o">]</span>
INFO:<span class="w">     </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>application<span class="w"> </span>startup.
INFO:<span class="w">     </span>Application<span class="w"> </span>startup<span class="w"> </span>complete.
</code></pre></div>
<p>Sempre que usarmos o fastapi para inicializar a aplicação no shell, ele faz uma chamada interna para inicializar o uvicorn. Por esse motivo ele aparece nas respostas HTTP e também na execução do comando.</p>
<p>??? tip "Você poderia chamar a aplicação diretamente pelo Uvicorn também"
    </p><div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>uvicorn<span class="w"> </span>fast_zero.app:app
</code></pre></div>
    Esse comando diz ao uvicorn o seguinte: na pasta fast_zero existe um arquivo chamado app. Dentro desse arquivo, temos uma aplicação para ser servida com o nome de app. O comando é composto por uvicorn pasta.arquivo:variável.
<pre><code>A resposta do comando no terminal deve ser parecida com essa:

<div class="language-shell highlight"><span class="filename">Resultado do comando</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>INFO:<span class="w">     </span>Started<span class="w"> </span>server<span class="w"> </span>process<span class="w"> </span><span class="o">[</span><span class="m">127946</span><span class="o">]</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>INFO:<span class="w">     </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>application<span class="w"> </span>startup.
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>INFO:<span class="w">     </span>Application<span class="w"> </span>startup<span class="w"> </span>complete.
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>INFO:<span class="w">     </span>Uvicorn<span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://127.0.0.1:8000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
</span></code></pre></div>
</code></pre>
<h2>Instalando as ferramentas de desenvolvimento</h2>
<p>As escolhas de ferramentas de desenvolvimento, de forma geral, são escolhas bem particulares. Não costumam ser consensuais nem mesmo em times de desenvolvimento. Dito isso, selecionei algumas ferramentas que gosto de usar e alinhadas com a utilidade que elas apresentam no desenvolvimento do projeto.</p>
<p>As ferramentas escolhidas são:</p>
<ul>
<li><a href="https://github.com/taskipy/taskipy">taskipy</a>{:target="_blank"}: ferramenta usada para criação de comandos. Como executar a aplicação, rodar os testes, etc.</li>
<li><a href="https://docs.pytest.org/">pytest</a>{:target="_blank"}: ferramenta para escrever e executar testes</li>
<li><a href="https://docs.astral.sh/ruff/">ruff</a>{:target="_blank"}: Uma ferramenta que tem duas funções no nosso código:<ol>
<li>Um analisador estático de código (um <a href="https://pt.wikipedia.org/wiki/Linter_(computa%C3%A7%C3%A3o)">linter</a>{:target="_blank"}), para dizer se não estamos infringido alguma <a href="https://docs.astral.sh/ruff/rules/">boa prática de programação</a>{:target="_blank"};</li>
<li>Um formatador de código. Para seguirmos um estilo único de código. Vamos nos basear na <a href="https://peps.python.org/pep-0008/">PEP-8</a>{:target="_blank"}.</li>
</ol>
</li>
</ul>
<p>Para instalar essas ferramentas que usaremos em desenvolvimento, podemos usar um grupo (<code>--group dev</code>) do poetry focado nelas, para não serem instaladas quando nossa aplicação estiver em produção:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>poetry<span class="w"> </span>add<span class="w"> </span>--group<span class="w"> </span>dev<span class="w"> </span>pytest<span class="w"> </span>pytest-cov<span class="w"> </span>taskipy<span class="w"> </span>ruff<span class="w"> </span>httpx
</code></pre></div>
<blockquote>
<p>O <a href="https://www.python-httpx.org/">HTTPX</a>{:target="_blank"} foi incluído, pois ele é uma dependência do cliente de testes do FastAPI.</p>
</blockquote>
<h2>Configurando as ferramentas de desenvolvimento</h2>
<p>Após a instalação das ferramentas de desenvolvimento, precisamos definir as configurações de cada uma individualmente no arquivo <code>pyproject.toml</code>.</p>
<h3>Ruff</h3>
<p>O <a href="https://docs.astral.sh/ruff/">Ruff</a>{:target="_blank"} é uma ferramenta moderna em python, escrita em rust, compatível[^2] com os projetos de análise estática escritos e mantidos originalmente pela comunidade no projeto <a href="https://github.com/PyCQA/">PYCQA</a>{:target="_blank"}[^3] e tem duas funções principais:</p>
<p>[^2]: Em alguns casos existe uma divergência de opiniões em os linter mais tradicionais. Mas, em geral funciona bem.
[^3]: Em versões antigas do texto usávamos as ferramentas do PyCQA como o pylint e o isort.</p>
<ol>
<li>Analisar o código de forma estática (Linter): Efetuar a verificação se estamos programando de acordo com boas práticas do python.</li>
<li>Formatar o código (Formatter): Efetuar a verificação do código para padronizar um estilo de código pré-definido.</li>
</ol>
<p>Para configurar o ruff montamos a configuração em 3 <a href="https://toml.io/pt/v1.0.0#tabela">tabelas</a>{:target="_blank"} distintas no arquivo <code>pyproject.toml</code>. Uma para as configurações globais, uma para o linter e uma para o formatador.</p>
<p><strong>Configuração global</strong></p>
<p>Na configuração global do Ruff queremos alterar somente duas coisas. O comprimento de linha para 79 caracteres (conforme sugerido na <a href="https://peps.python.org/pep-0008/">PEP-8</a>{:target="_blank"}) e em seguida, informaremos que o diretório de migrações de banco de dados será ignorado na checagem e na formatação:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">--8</span><span class="err">&lt;</span><span class="n">--</span><span class="w"> </span><span class="s2">"aulas/codigos/01/pyproject.toml:20:23"</span>
</code></pre></div></td></tr></table></div>
<p>???+ example "Nota sobre "migrations""
    Nessa fase de configuração, excluiremos a pasta <code>migrations</code>, isso pode não fazer muito sentido nesse momento. Contudo, quando iniciarmos o trabalho com o banco de dados, a ferramenta <code>Alembic</code> faz geração de código automático. Por serem códigos gerados automaticamente, não queremos alterar a configuração feita por ela.</p>
<p><strong>Linter</strong></p>
<p>Durante a análise estática do código, queremos buscar por coisas específicas. No Ruff, precisamos dizer exatamente o que ele deve analisar. Isso é feito por códigos. Usaremos estes:</p>
<ul>
<li><code>I</code> (<a href="https://pycqa.github.io/isort/">Isort</a>{:target="_blank"}): Checagem de ordenação de imports em ordem alfabética</li>
<li><code>F</code> (<a href="https://github.com/PyCQA/pyflakes">Pyflakes</a>{:target="_blank"}): Procura por alguns erros em relação a boas práticas de código</li>
<li><code>E</code> (Erros <a href="https://pycodestyle.pycqa.org/en/latest/">pycodestyle</a>{:target="_blank"}): Erros de estilo de código</li>
<li><code>W</code> (Avisos <a href="https://pycodestyle.pycqa.org/en/latest/">pycodestyle</a>{:target="_blank"}): Avisos de coisas não recomendadas no estilo de código</li>
<li><code>PL</code> (<a href="https://pylint.pycqa.org/en/latest/index.html">Pylint</a>{:target="_blank"}): Como o <code>F</code>, também procura por erros em relação a boas práticas de código</li>
<li><code>PT</code> (<a href="https://pypi.org/project/flake8-pytest-style/">flake8-pytest</a>{:target="_blank"}): Checagem de boas práticas do Pytest</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">--8</span><span class="err">&lt;</span><span class="n">--</span><span class="w"> </span><span class="s2">"aulas/codigos/01/pyproject.toml:24:27"</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>Para mais informações sobre a configuração e sobre os códigos do ruff e dos projetos do PyCQA, você pode checar a <a href="https://docs.astral.sh/ruff/rules">documentação do ruff</a>{:target="_blank"} ou as documentações originais dos projetos <a href="https://github.com/PyCQA">PyQCA</a>{:target="_blank"}.</p>
</blockquote>
<p><strong>Formatter</strong></p>
<p>A formatação do Ruff praticamente não precisa ser alterada. Pois ele vai seguir as boas práticas e usar a configuração global de <code>79</code> caracteres por linha. A única alteração que farei é o uso de aspas simples <code>'</code> no lugar de aspas duplas <code>"</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">--8</span><span class="err">&lt;</span><span class="n">--</span><span class="w"> </span><span class="s2">"aulas/codigos/01/pyproject.toml:28:31"</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>Lembrando que a opção de usar aspas simples é totalmente pessoal, você pode usar aspas duplas se quiser.</p>
</blockquote>
<h3>pytest</h3>
<p>O <a href="https://docs.pytest.org/">Pytest</a>{:target="_blank"} é uma framework de testes, que usaremos para escrever e executar nossos testes. O configuraremos para reconhecer o caminho base para execução dos testes na raiz do projeto <code>.</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">--8</span><span class="err">&lt;</span><span class="n">--</span><span class="w"> </span><span class="s2">"aulas/codigos/01/pyproject.toml:32:34"</span>
</code></pre></div></td></tr></table></div>
<p>Na segunda linha dizemos para o pytest adicionar a opção <code>no:warnings</code>. Para ter uma visualização mais limpa dos testes, caso alguma biblioteca exiba uma mensagem de warning, isso será suprimido pelo pytest.</p>
<h3>Taskipy</h3>
<p>A ideia do <a href="https://github.com/taskipy/taskipy">Taskipy</a>{:target="_blank"} é ser um executor de tarefas (<em>task runner</em>) complementar em nossa aplicação. No lugar de ter que lembrar comandos como o do fastapi, que vimos na execução da aplicação, que tal substituir ele simplesmente por <code>task run</code>?</p>
<p>Isso funcionaria para qualquer comando complicado em nossa aplicação. Simplificando as chamadas e também para não termos que lembrar de como executar todos os comandos de cabeça.</p>
<p>Alguns comandos que criaremos agora no início:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">--8</span><span class="err">&lt;</span><span class="n">--</span><span class="w"> </span><span class="s2">"aulas/codigos/01/pyproject.toml:36:43"</span>
</code></pre></div></td></tr></table></div>
<p>Os comandos definidos fazem o seguinte:</p>
<ul>
<li>
<p>lint: Executa duas variações da checagem:</p>
<ul>
<li><code>ruff check --diff</code>: Mostra o que precisa ser alterado no código para que as boas práticas sejam seguidas</li>
<li><code>ruff check</code>: Mostra os códigos de infrações de boas práticas</li>
<li><code>&amp;&amp;</code>: O duplo <code>&amp;</code> faz com que a segunda parte do comando só seja executada se a primeira não der erro. Sendo assim, enquanto o <code>--diff</code> apresentar erros, ele não executará o <code>check</code></li>
</ul>
</li>
<li>
<p>format: Executa duas variações da formatação:</p>
<ul>
<li><code>ruff check --fix</code>: Faz algumas correções de boas práticas automaticamente</li>
<li><code>ruff format</code>: Executa a formatação do código em relação as convenções de estilo de código</li>
</ul>
</li>
<li>run: executa o servidor de desenvolvimento do FastAPI</li>
<li>pre_test: executa a camada de lint antes de executar os testes</li>
<li>test: executa os testes com pytest de forma verbosa (-vv) e adiciona nosso código como base de cobertura</li>
<li>post_test: gera um report de cobertura após os testes</li>
</ul>
<p>Para executar um comando, é bem mais simples, precisando somente passar a palavra <code>task &lt;comando&gt;</code>.</p>
<p>??? warning "Caso precise ver o arquivo todo"</p>
<pre><code>O meu está exatamente assim:

<div class="language-toml highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">pyproject.toml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">--8</span><span class="err">&amp;</span><span class="n">lt</span><span class="err">;</span><span class="n">--</span><span class="w"> </span><span class="s2">"aulas/codigos/01/pyproject.toml"</span>
</span></code></pre></div></td></tr></table></div>

Um ponto importante é que as versões dos pacotes podem variar dependendo da data em que você fizer a instalação dos pacotes. Esse arquivo é somente um exemplo.
</code></pre>
<h3>Os efeitos dessas configurações de desenvolvimento</h3>
<p>Caso você tenha copiado o código que usamos para definir <code>fast_zero/app.py</code>, pode testar os comandos que criamos para o <code>taskipy</code>:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span>lint
</code></pre></div>
<p>Dessa forma, veremos que cometemos algumas infrações na formatação da PEP-8. O ruff nos informará que deveríamos ter adicionado duas linhas antes de uma definição de função:</p>
<div class="highlight"><pre><span></span><code>fast_zero/app.py:5:1: E302 [*] Expected 2 blank lines, found 1
Found 1 error.
[*] 1 fixable with the `--fix` option.
<span class="gd">--- fast_zero/app.py</span>
<span class="gi">+++ fast_zero/app.py</span>
<span class="gu">@@ -2,6 +2,7 @@</span>

<span class="w"> </span>app = FastAPI()

<span class="gi">+</span>
<span class="w"> </span>@app.get('/')
<span class="w"> </span>def read_root():
<span class="w"> </span>    return {'message': 'Olá Mundo!'}

Would fix 1 error.
</code></pre></div>
<p>Para corrigir isso, podemos usar o nosso comando de formatação de código:</p>
<p>=== "Comando"
    </p><div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span>format
Found<span class="w"> </span><span class="m">1</span><span class="w"> </span>error<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>fixed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>remaining<span class="o">)</span>.
<span class="m">3</span><span class="w"> </span>files<span class="w"> </span>left<span class="w"> </span>unchanged
</code></pre></div>
<p>=== "Resultado"
    </p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">fast_zero/app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="hll">
</span><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">read_root</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">'message'</span><span class="p">:</span> <span class="s1">'Olá Mundo!'</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2>Introdução ao Pytest: Testando o "Hello, World!"</h2>
<p>Antes de entendermos a dinâmica dos testes, precisamos entender o efeito que eles têm no nosso código. Podemos começar analisando a cobertura (o quanto do nosso código está sendo efetivamente testado). Vamos executar os testes:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span><span class="nb">test</span>
</code></pre></div>
<p>Teremos uma resposta como essa:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code><span class="o">===========================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">===========================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.11.7,<span class="w"> </span>pytest-7.4.4,<span class="w"> </span>pluggy-1.3.0
cachedir:<span class="w"> </span>.pytest_cache
rootdir:<span class="w"> </span>/home/dunossauro/git/fast_zero
configfile:<span class="w"> </span>pyproject.toml
plugins:<span class="w"> </span>cov-4.1.0,<span class="w"> </span>anyio-4.2.0
<span class="hll">collected<span class="w"> </span><span class="m">0</span><span class="w"> </span>items
</span>
----------<span class="w"> </span>coverage:<span class="w"> </span>platform<span class="w"> </span>linux,<span class="w"> </span>python<span class="w"> </span><span class="m">3</span>.11.7-final-0<span class="w"> </span>-----------
Name<span class="w">                    </span>Stmts<span class="w">   </span>Miss<span class="w">  </span>Cover
-------------------------------------------
fast_zero/__init__.py<span class="w">       </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">   </span><span class="m">100</span>%
fast_zero/app.py<span class="w">            </span><span class="m">5</span><span class="w">      </span><span class="m">5</span><span class="w">     </span><span class="m">0</span>%
-------------------------------------------
TOTAL<span class="w">                       </span><span class="m">5</span><span class="w">      </span><span class="m">5</span><span class="w">     </span><span class="m">0</span>%
</code></pre></div>
<p>As linhas no terminal são referentes ao pytest, que disse que coletou 0 itens. Nenhum teste foi executado.</p>
<p>??? info "Caso não tenha muita experiência com Pytest"
    Temos uma live de Python explicando os conceitos básicos da biblioteca
    <a class="glightbox" href="https://www.youtube.com/embed/MjQCvJmc31A" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/MjQCvJmc31A" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a></p>
<pre><code>[:fontawesome-brands-youtube: Link direto](https://youtu.be/MjQCvJmc31A){ .md-button }
</code></pre>
<p>A parte importante dessa Mensagem está na tabela gerada pelo <code>coverage</code>. Que diz que temos 5 linhas de código (Stmts) no arquivo <code>fast_zero/app.py</code> e nenhuma delas está coberta pelos nossos testes. Como podemos ver na coluna <code>Miss</code>.</p>
<p>Por não encontrar nenhum teste, o pytest retornou um "erro". Isso significa que nossa tarefa <code>post_test</code> não foi executada. Podemos executá-la manualmente:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span>post_test
Wrote<span class="w"> </span>HTML<span class="w"> </span>report<span class="w"> </span>to<span class="w"> </span>htmlcov/index.html
</code></pre></div>
<p>Isso gera um relatório de cobertura de testes em formato HTML. Podemos abrir esse arquivo em nosso navegador e entender exatamente quais linhas do código não estão sendo testadas.</p>
<p><a class="glightbox" href="assets/01/navegador_com_pagina_inicial_do_coverage.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="navegador" src="assets/01/navegador_com_pagina_inicial_do_coverage.png"></a>{: .center }</p>
<p>Se clicarmos no arquivo <code>fast_zero/app.py</code> podemos ver em vermelho as linhas que não estão sendo testadas:</p>
<p><a class="glightbox" href="assets/01/navegador_com_pagina_de_cobertura_sem_testes.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="navegador" src="assets/01/navegador_com_pagina_de_cobertura_sem_testes.png"></a>{: .center  }</p>
<p>Isto significa que precisamos testar todo esse arquivo.</p>
<h3>Escrevendo o teste</h3>
<p>Agora, escreveremos nosso primeiro teste com Pytest. Mas, antes de escrever o teste, precisamos criar um arquivo específico para eles. Na pasta <code>tests</code>, vamos criar um arquivo chamado <code>test_app.py</code>.</p>
<blockquote>
<p>Por convenção, todos os arquivos de teste do pytest devem iniciar com um prefixo test_<algo>.py</algo></p>
</blockquote>
<p>Para testar o código feito com FastAPI, precisamos de um cliente de teste. A grande vantagem é que o FastAPI já conta com um cliente de testes no módulo <code>fastapi.testclient</code> com o objeto <code>TestClient</code>, que precisa receber nosso app como parâmetro:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">tests/test_app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="o">--</span><span class="mi">8</span><span class="o">&lt;--</span> <span class="s2">"aulas/codigos/01/tests/test_app.py::5"</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Importa do módulo <code>testclient</code> o objeto <code>TestClient</code></li>
<li>Importa o nosso <code>app</code> definido em <code>fast_zero</code></li>
<li>Cria um cliente de testes usando a nossa aplicação como base</li>
</ol>
<p>Só o fato de termos definido um cliente, já nos mostra uma cobertura bastante diferente:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span><span class="nb">test</span>
<span class="c1"># parte da mensagem foi omitida</span>
<span class="hll">collected<span class="w"> </span><span class="m">0</span><span class="w"> </span>items
</span>
----------<span class="w"> </span>coverage:<span class="w"> </span>platform<span class="w"> </span>linux,<span class="w"> </span>python<span class="w"> </span><span class="m">3</span>.11.3-final-0<span class="w"> </span>-----------
Name<span class="w">                    </span>Stmts<span class="w">   </span>Miss<span class="w">  </span>Cover
-------------------------------------------
fast_zero/__init__.py<span class="w">       </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">   </span><span class="m">100</span>%
<span class="hll">fast_zero/app.py<span class="w">            </span><span class="m">5</span><span class="w">      </span><span class="m">1</span><span class="w">    </span><span class="m">80</span>%
</span>-------------------------------------------
TOTAL<span class="w">                       </span><span class="m">5</span><span class="w">      </span><span class="m">1</span><span class="w">    </span><span class="m">80</span>%
</code></pre></div>
<p>Por não coletar nenhum teste, o pytest ainda retornou um "erro". Para ver a cobertura, precisaremos executar novamente o <code>post_test</code> manualmente:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span>post_test
Wrote<span class="w"> </span>HTML<span class="w"> </span>report<span class="w"> </span>to<span class="w"> </span>htmlcov/index.html
</code></pre></div>
<p>No navegador, podemos ver que a única linha não "testada" é aquela onde temos a lógica (o corpo) da função <code>read_root</code>. As linhas de definição estão todas verdes:</p>
<p><a class="glightbox" href="assets/01/navegador_com_pagina_de_cobertura_com_estrutuda_de_testes.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="browser" src="assets/01/navegador_com_pagina_de_cobertura_com_estrutuda_de_testes.png"></a>{: .center  }</p>
<p>No verde vemos o que foi executado quando chamamos o teste, no vermelho o que não foi.</p>
<p>Para resolver isso, temos que criar um teste de fato, fazendo uma chamada para nossa API usando o cliente de teste que definimos:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">tests/test_app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="o">--</span><span class="mi">8</span><span class="o">&lt;--</span> <span class="s2">"aulas/codigos/01/tests/test_app.py:8:22"</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>No nome da função, geralmente escrevemos o que o teste de fato faz. Aqui estamos dizendo que root deve retornar o status OK e a mensagem "olá mundo". Root é o nome dado a raiz da URL. O caminho <code>/</code>, que colocamos na definição do <code>#!python @app.get('/')</code>. OK é o status que diz que a requisição aconteceu com sucesso no protocolo HTTP.</li>
<li>Aqui criamos o cliente de teste do nosso app</li>
<li>Nesse ponto, o <code>client</code> faz uma requisição. Da mesma forma que o browser, um cliente da API. Nisso, chamamos o endereço de root, usando o método GET.</li>
<li>Aqui fazemos a validação do código de resposta, para saber se a resposta é referente ao código <code>200</code>, que significa <code>OK</code>. Mais informações sobre esse tópico <a href="02.md#boas-praticas-para-constantes">aqui</a>{:target="_blank"}.</li>
<li>No final, validamos se o dicionário que enviamos na função é o mesmo que recebemos quando fizemos a requisição.</li>
<li>Importação da biblioteca nativa do python que abstrai os códigos de resposta e nos apresenta o status. Mais informações sobre esse tópico <a href="02.md#boas-praticas-para-constantes">aqui</a>{:target="_blank"}.</li>
</ol>
<p>Esse teste faz uma requisição GET no endpoint <code>/</code> e verifica se o código de status da resposta é 200 e se o conteúdo da resposta é <code>{'message': 'Olá Mundo!'}</code>.</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>task<span class="w"> </span><span class="nb">test</span>
<span class="c1"># parte da mensagem foi omitida</span>
<span class="hll">collected<span class="w"> </span><span class="m">1</span><span class="w"> </span>item
</span>
<span class="hll">tests/test_app.py::test_root_deve_retornar_ok_e_ola_mundo<span class="w"> </span>PASSED
</span>
----------<span class="w"> </span>coverage:<span class="w"> </span>platform<span class="w"> </span>linux,<span class="w"> </span>python<span class="w"> </span><span class="m">3</span>.11.3-final-0<span class="w"> </span>-----------
Name<span class="w">                    </span>Stmts<span class="w">   </span>Miss<span class="w">  </span>Cover
-------------------------------------------
fast_zero/__init__.py<span class="w">       </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">   </span><span class="m">100</span>%
<span class="hll">fast_zero/app.py<span class="w">            </span><span class="m">5</span><span class="w">      </span><span class="m">0</span><span class="w">   </span><span class="m">100</span>%
</span>-------------------------------------------
TOTAL<span class="w">                       </span><span class="m">5</span><span class="w">      </span><span class="m">0</span><span class="w">   </span><span class="m">100</span>%

<span class="o">================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>passed<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span>.39s<span class="w"> </span><span class="o">================</span>
<span class="hll">Wrote<span class="w"> </span>HTML<span class="w"> </span>report<span class="w"> </span>to<span class="w"> </span>htmlcov/index.html
</span></code></pre></div>
<p>Dessa forma, temos um teste que coletou 1 item (1 teste). Esse teste foi aprovado e a cobertura não deixou de abranger nenhuma linha de código.</p>
<p>Como conseguimos coletar um item, o <code>post_test</code> foi executado e também gerou um HTML com a cobertura atualizada.</p>
<p><a class="glightbox" href="assets/01/navegador_com_pagina_de_cobertura_com_teste.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="descrição" src="assets/01/navegador_com_pagina_de_cobertura_com_teste.png"></a>{: .center }</p>
<h2>Estrutura de um teste</h2>
<p>Agora que escrevemos nosso primeiro teste de forma intuitiva, podemos entender o que cada passo do teste faz. Essa compreensão é vital, pois nos ajudará a escrever testes com mais confiança e eficácia. Para desvendar o método por trás da nossa abordagem, exploraremos uma estratégia conhecida como <a href="https://xp123.com/articles/3a-arrange-act-assert/">AAA</a>{:target="_blank"}, que divide o teste em três fases distintas: Arrange, Act, Assert.</p>
<p>??? info "Caso fazer testes ainda seja complicado para você"
    Temos uma live de python focada em ensinar os primeiros passos no mundo dos testes.
    <a class="glightbox" href="https://www.youtube.com/embed/-8H2Pyxnoek" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/-8H2Pyxnoek" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a></p>
<pre><code>[:fontawesome-brands-youtube: Link direto](https://youtu.be/-8H2Pyxnoek){ .md-button }
</code></pre>
<p>Para analisar todas as etapas de um teste, usaremos como exemplo este primeiro teste que escrevemos:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">tests/test_app.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="o">--</span><span class="mi">8</span><span class="o">&lt;--</span> <span class="s2">"aulas/codigos/01/tests/test_app.py:24"</span>
</code></pre></div></td></tr></table></div>
<p>Com base nesse código, podemos observar as três fases:</p>
<h3>Fase 1 - Organizar (Arrange)</h3>
<p>Nesta primeira etapa, estamos preparando o ambiente para o teste. No exemplo, a linha com o comentário <code>Arrange</code> não é o teste em si, ela monta o ambiente para que o teste possa ser executado. Estamos configurando um <code>client</code> de testes para fazer a requisição ao <code>app</code>.</p>
<h3>Fase 2 - Agir (Act)</h3>
<p>Aqui é a etapa onde acontece a ação principal do teste, que consiste em chamar o Sistema Sob Teste (<a href="http://xunitpatterns.com/SUT.html">SUT</a>{:target="_blank"}). No nosso caso, o SUT é a rota <code>/</code>, e a ação é representada pela linha <code>response = client.get('/')</code>. Estamos exercitando a rota e armazenando sua resposta na variável <code>response</code>. É a fase em que o código de testes executa o código de produção que está sendo testado. Agir aqui significa interagir diretamente com a parte do sistema que queremos avaliar, para ver como ela se comporta.</p>
<h3>Fase 3 - <em>Afirmar</em> (Assert)</h3>
<p>Esta é a etapa de verificar se tudo correu como esperado. É fácil notar onde estamos fazendo a verificação, pois essa linha sempre tem a palavra reservada <code>assert</code>. A verificação é booleana, ou está correta, ou não está. Por isso, um teste deve sempre incluir um <code>assert</code> para verificar se o comportamento esperado está correto.</p>
<hr>
<p>Agora que compreendemos o que cada linha de teste faz em específico, podemos nos orientar de forma clara nos testes que escreveremos no futuro. Cada uma das linhas usadas tem uma razão de estar no teste, e conhecer essa estrutura não só nos dá uma compreensão mais profunda do que estamos fazendo, mas também nos dá confiança para explorar e escrever testes mais complexos.</p>
<h2>Criando nosso repositório no git</h2>
<p>Antes de concluirmos a aula, precisamos executar alguns passos:</p>
<ol>
<li>Criar um arquivo <code>.gitignore</code> para não adicionar o ambiente virtual e outros arquivos desnecessários no versionamento de código.</li>
<li>Criar um novo repositório no GitHub para versionar o código.</li>
<li>Subir o código que fizemos para o GitHub.</li>
</ol>
<p><strong>Criando o arquivo .gitignore</strong></p>
<p>Vamos iniciar com a criação de um arquivo <code>.gitignore</code> específico para Python. Existem diversos modelos disponíveis na internet, como os <a href="https://github.com/github/gitignore">disponíveis pelo próprio GitHub</a>{:target="_blank"}, ou o <a href="https://gitignore.io">gitignore.io</a>{:target="_blank"}. Uma ferramenta útil é a <a href="https://github.com/Antrikshy/ignr.py"><code>ignr</code></a>{:target="_blank"}, feita em Python, que faz o download automático do arquivo para a nossa pasta de trabalho atual:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>ignr<span class="w"> </span>-p<span class="w"> </span>python<span class="w"> </span>&gt;<span class="w"> </span>.gitignore
</code></pre></div>
<p>O <code>.gitignore</code> é importante porque ele nos ajuda a evitar que arquivos desnecessários ou sensíveis sejam enviados para o repositório. Isso inclui o ambiente virtual, arquivos de configuração pessoal, entre outros.</p>
<p><strong>Criando um repositório no github</strong></p>
<p>Agora, com nossos arquivos indesejados ignorados, podemos iniciar o versionamento de código usando o <code>git</code>. Para criar um repositório local, usamos o comando <code>git init .</code>. Para criar esse repositório no GitHub, utilizaremos o <code>gh</code>, um utilitário de linha de comando que nos auxilia nesse processo:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>git<span class="w"> </span>init<span class="w"> </span>.
gh<span class="w"> </span>repo<span class="w"> </span>create
</code></pre></div>
<p>Ao executar <code>gh repo create</code>, algumas informações serão solicitadas, como o nome do repositório e se ele será público ou privado. Isso irá criar um repositório tanto localmente quanto no GitHub.</p>
<p><strong>Subindo nosso código para o github</strong></p>
<p>Com o repositório pronto, vamos versionar nosso código. Primeiro, adicionamos o código ao próximo commit com <code>git add .</code>. Em seguida, criamos um ponto na história do projeto com <code>git commit -m "Configuração inicial do projeto"</code>. Por fim, sincronizamos o repositório local com o remoto no GitHub usando <code>git push</code>:</p>
<div class="highlight"><span class="filename">$ Execução no terminal!</span><pre><span></span><code>git<span class="w"> </span>add<span class="w"> </span>.
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">"Configuração inicial do projeto"</span>
git<span class="w"> </span>push
</code></pre></div>
<blockquote>
<p>Caso seja a primeira vez que está utilizando o <code>git push</code>, talvez seja necessário configurar suas credenciais do GitHub.</p>
</blockquote>
<p>Esses passos garantem que todo o código criado na aula esteja versionado e disponível para compartilhamento no GitHub.</p>
<h2>Exercício</h2>
<ol>
<li>Crie um repositório para acompanhar o curso e suba em alguma plataforma, como <a href="https://github.com/">Github</a>, <a href="https://gitlab.com/">gitlab</a>, <a href="https://codeberg.org/">codeberg</a>, etc. E compartilhe o link no <a href="https://github.com/dunossauro/fastapi-do-zero/issues/91">repositório do curso</a> para podermos aprender juntos.</li>
</ol>
<h2>Conclusão</h2>
<p>Pronto! Agora temos um ambiente de desenvolvimento totalmente configurado para começar a trabalhar com FastAPI e já fizemos nossa primeira imersão no Desenvolvimento Orientado por Testes. Na próxima aula nos aprofundaremos na estruturação da nossa aplicação FastAPI. Até lá!</p>
<hr>
<p>Agora que a aula acabou, é um bom momento para você relembrar alguns conceitos e fixar melhor o conteúdo respondendo ao questionário referente a ela.</p>
<p><a href="quizes/aula_01.md">Quiz :material-comment-question:</a>{ .md-button }</p></div><style type="text/css">.quiz {
  border: 1px solid black;
  padding: 1rem;
  margin: 1rem 0;
}
/* Set margin-top of first quiz child */
.quiz > *:first-child {
  margin-top: 0;
}
.hidden {
  display: none;
}

form button {
  background-color: var(--md-primary-fg-color);
  border: none;
  color: var(--md-primary-bg-color);
  padding: 0.5rem 1rem;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 0.8rem;
}

.wrong label {
  color: red;
}
.correct label {
  color: green;
}

fieldset {
  border: none;
  display: flex;
  flex-direction: column;
}
fieldset input {
  margin: 0 10px;
}
fieldset label {
  margin: 0 10px;
}

label.correct {
  color: green;
}
label.wrong {
  color: red;
}
input[type='radio'].correct {
  accent-color: green;
}
input[type='radio'].wrong {
  accent-color: red;
}
.content {
  margin: 10px;
}
</style><script type="text/javascript" defer>document.querySelectorAll('.quiz').forEach((quiz) => {
  let form = quiz.querySelector('form');
  let fieldset = form.querySelector('fieldset');
  form.addEventListener('submit', (event) => {
    event.preventDefault();
    let selectedAnswers = form.querySelectorAll('input[name="answer"]:checked');
    let correctAnswers = fieldset.querySelectorAll(
      'input[name="answer"][correct]'
    );
    // Check if all correct answers are selected
    let is_correct = selectedAnswers.length === correctAnswers.length;
    for (let i = 0; i < selectedAnswers.length; i++) {
      if (!selectedAnswers[i].hasAttribute('correct')) {
        is_correct = false;
        break;
      }
    }
    let section = quiz.querySelector('section');
    if (is_correct) {
      section.classList.remove('hidden');
      resetFieldset(fieldset);
      // Mark all fields with colors
      const allAnswers = fieldset.querySelectorAll('input[name="answer"]');
      for (let i = 0; i < allAnswers.length; i++) {
        if (allAnswers[i].hasAttribute('correct')) {
          allAnswers[i].parentElement.classList.add('correct');
        } else {
          allAnswers[i].parentElement.classList.add('wrong');
        }
      }
    } else {
      section.classList.add('hidden');
      resetFieldset(fieldset);
      // Mark wrong fields with colors
      for (let i = 0; i < selectedAnswers.length; i++) {
        if (!selectedAnswers[i].hasAttribute('correct')) {
          selectedAnswers[i].parentElement.classList.add('wrong');
        } else {
          selectedAnswers[i].parentElement.classList.add('correct');
        }
      }
    }
  });
});

function resetFieldset(fieldset) {
  const fieldsetChildren = fieldset.children;
  for (let i = 0; i < fieldsetChildren.length; i++) {
    fieldsetChildren[i].classList.remove('wrong');
    fieldsetChildren[i].classList.remove('correct');
  }
}
</script>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Última atualização">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 6, 2024</span>
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contribuidores">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.536 5.536 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9V20Z"/></svg>
      
    </span>
    <nav>
      dunossauro, Marcelo Machado, Julio Formiga, Rodrigo Barretos, Adorilson Bezerra
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dunossauro" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/dunossauro" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/dunossauro" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://instagram.com/dunossauro" target="_blank" rel="noopener" title="instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.tiktok.com/@dunossauro" target="_blank" rel="noopener" title="www.tiktok.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M448 209.91a210.06 210.06 0 0 1-122.77-39.25v178.72A162.55 162.55 0 1 1 185 188.31v89.89a74.62 74.62 0 1 0 52.23 71.18V0h88a121.18 121.18 0 0 0 1.86 22.17A122.18 122.18 0 0 0 381 102.39a121.43 121.43 0 0 0 67 20.14Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "search.suggest", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.result.more.one": "mais 1 nesta p\u00e1gina", "search.result.more.other": "# mais nesta p\u00e1gina", "search.result.none": "Nenhum documento encontrado", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version": "Selecione a vers\u00e3o"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>